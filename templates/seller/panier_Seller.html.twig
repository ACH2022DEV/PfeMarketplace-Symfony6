{% extends 'seller/base_seller.html.twig' %}
{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('assets/css/panier_style.css') }}">
{% endblock %}
{% block container  %}
  {#  <h1>{{ seller.name }} - Offres</h1>
    <ul>
        {% for offer in seller.sellerOffers %}
            <li>{{ offer.offer.name }}</li>
        {% endfor %}
    </ul>#}

<div class="card ">
    <div class="card-header my-5" >

    </div>
    <div class="card-body">
{% if seller.sellerOffers.count>0 %}

    <div class=" container-fluid mx-auto  my-5" >
        <div class=" row">
            <div class=" col-md-8 col-12 col-sm-12 mx-auto col-lg-8 col-xl-7 col-md-12">
              {#  <div class=" shadow p-1   rounded   mb-0 text-start fw-semibold">
                    <h3 class="ms-5 ">Mon Panier</h3></div>#}
                <div class="row   shadow-sm   bg-body rounded sidebar rounded-4  ">
                    {% for offer in seller.sellerOffers %}

{#                    <div class="row my-1 bg-light">#}

{#                        <div class="col-md-4 col-sm-5 col-10 p-1 mt-2 mx-auto ">#}
{#                            <div> <img src="{{ asset('assets/images/favicon.png') }}" class="img-fluid rounded-1 " alt="...">#}
{#                            </div>#}
{#                            <div class=" mt-sm-2  ms-3 textColor d-none d-sm-block">#}
{#                                <form action="{{ path('delete_sellerOffer', {'id': offer.id}) }}" method="POST">#}
{#                                    <button type="submit"  class="d-flex btn-small btn-dark rounded-2"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">#}
{#                                        <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>#}
{#                                    </svg> <p class="mx-3 text-white"> Supprimer</p></button> </form>#}
{#                              #}{#  <a href="{{ path('delete_sellerOffer', {'id': offer.id}) }}" type="submit"  class="d-flex btn-small btn-dark rounded-2"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">#}
{#                                        <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>#}
{#                                    </svg> <p class="mx-3 text-white"> Supprimer</p></a>#}
{#                           #}{#     <a class="btn btn-primary" href="#" data-id="{{ offer.id }}" onclick="deleteOffer(event)">delete</a>#}
{#                                <script>#}
{#                                    function deleteOffer(event) {#}
{#                                        event.preventDefault();#}

{#                                        var offerId = event.target.getAttribute('data-id');#}

{#                                        if (confirm('Are you sure you want to delete this offer?')) {#}
{#                                            var xhr = new XMLHttpRequest();#}
{#                                            xhr.open('DELETE', '{{ path('delete_sellerOffer', {'id': offer.id}) }}');#}
{#                                            xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');#}
{#                                            xhr.onload = function() {#}
{#                                                if (xhr.status === 200) {#}
{#                                                    alert('Offer successfully deleted!');#}
{#                                                    // Optionally, you can remove the seller from the DOM#}
{#                                                    // to reflect the change without reloading the page.#}
{#                                                } else {#}
{#                                                    alert('An error occurred while deleting the offer.');#}
{#                                                }#}
{#                                            };#}
{#                                            xhr.send();#}
{#                                        }#}
{#                                    }#}
{#                                </script>#}
{#                            </div>#}


{#                        </div>#}

{#                        <div class="col-md-5 col-sm-5 col-11 align-items-center m-0 mt-2 mx-auto">#}
{#                            <span class="d-block mt-xl-2 m-0 text-start"><p></p> </span>#}
{#                            <span class="d-none d-md-block m-0 text-danger "><h5> </h5> </span>#}


{#                            <div class="  m-0  ">#}
{#                                <span class="d-block fst-italic text-danger fs-4 fw-semibold  me-2 "><p>id: {{ offer.id}} </p> </span>#}
{#                                <span class="d-block fst-italic text-danger fs-4 fw-semibold  me-2 "><p>OfferName: {{ offer.offer.name}} </p> </span>#}
{#                                <span class="d-block fst-italic text-dark fs-4 fw-semibold  me-2 "><p>nbProductTypes: {{ offer.offer.nbProductTypes}} </p> </span>#}
{#                                <span class="d-block fst-italic text-dark fs-4 fw-semibold  me-2 "><p>nbDays: {{ offer.offer.nbDays}} </p> </span>#}
{#                                <div class="d-flex">#}
{#                                    <p  class="text-decoration-line-through  text-muted fs-5 me-5"></p>#}

{#                                </div>#}

{#                            #}{#    <h5><a   class="d-flex d-block  d-sm-none textColor"><i class="bi bi-trash"></i>#}
{#                                        <p class="mx-2 text-danger"> Supprimer</p></a></h5>#}
{#                            </div> </div>#}
{#                    </div>#}
                        <div class="col-lg-4 col-md-6 col-sm-12 col-12 my-2">

                            <div class="top_service_boxed wallet_area_boxed" >
                                <!--<div> <img src="{{ asset('assets/images/favicon.png') }}" class="img-fluid rounded-1 " alt="...">
                            </div>-->




                                    <span class="d-block fst-italic text-danger fs-4 fw-semibold  me-2 "><p>id: {{ offer.id}} </p> </span>
                                    <span class="d-block fst-italic text-danger fs-4 fw-semibold  me-2 "><p>OfferName: {{ offer.offer.name}} </p> </span>
                                    <span class="d-block fst-italic text-dark fs-4 fw-semibold  me-2 "><p>nbProductTypes: {{ offer.offer.nbProductTypes}} </p> </span>
                                    <span class="d-block fst-italic text-dark fs-4 fw-semibold  me-2 "><p>nbDays: {{ offer.offer.nbDays}} </p> </span>
                                    <div class="d-flex">
                                        <p  class="text-decoration-line-through  text-muted fs-5 me-5"></p>



                                        {#    <h5><a   class="d-flex d-block  d-sm-none textColor"><i class="bi bi-trash"></i>
                                        <p class="mx-2 text-danger"> Supprimer</p></a></h5>#}
                                    </div>

                                    <form action="{{ path('delete_sellerOffer', {'id': offer.id}) }}" method="POST">
                                        <button type="submit"  class=" btn-sm btn_theme  w-100 ">
                                           <p class=" p-1 text-white"> <span>  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                                            <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
                                        </svg></span> Supprimer</p></button> </form>




                            </div>


                        </div>
                    {% endfor %}
                </div>
            </div>

            <div class="col-md-12 col-12 mx-auto col-lg-4 col-sm-12 col-xl-4 h-100 my-2 sticky-top mb-1" style="top: 100px; z-index: 4;">
               {# <div class=" shadow-sm  mb-2 bg-body rounded-3  ">
                    <p class="text-center fs-5 p-1">RÉSUMÉ DU PANIER </p>
                    <div class="p-4 sidebar  "><span class="text-start fs-5 d-flex  ">Sous-Total: <h5 class=" mx-1 mt-1 fw-semibold">.00 TND</h5></span>
                        <p class="text-muted text-start fs-6">Frais de livraison non inclus à ce stade.</p>
                        <div class=" ">
                            <button  class="d-none d-md-block container-fluid    btn  w-75 col-md-6 col-lg-12   btnColor  " data-bs-toggle="modal" data-bs-target="#staticBackdrop"  >
                                <h6 class=" mt-1   " style="color: #fff;">Passer la commande</h6> </button>
                            <div class="bg-white fixed-bottom d-md-none p-2  d-flex mx-auto ">
                                <!--  <button class="btn shadow-sm me-3 border1 border border-5 rounded-2 mx-auto"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">
                                   <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.707 1.5ZM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5 5 5Z"/>
                                 </svg></button> -->
                                <button class="btn shadow-sm border1 border border-5 rounded-2  mx-auto"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-telephone" viewBox="0 0 16 16">
                                        <path d="M3.654 1.328a.678.678 0 0 0-1.015-.063L1.605 2.3c-.483.484-.661 1.169-.45 1.77a17.568 17.568 0 0 0 4.168 6.608 17.569 17.569 0 0 0 6.608 4.168c.601.211 1.286.033 1.77-.45l1.034-1.034a.678.678 0 0 0-.063-1.015l-2.307-1.794a.678.678 0 0 0-.58-.122l-2.19.547a1.745 1.745 0 0 1-1.657-.459L5.482 8.062a1.745 1.745 0 0 1-.46-1.657l.548-2.19a.678.678 0 0 0-.122-.58L3.654 1.328zM1.884.511a1.745 1.745 0 0 1 2.612.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z"/>
                                    </svg></button><button  class=" container-fluid   btn  w-75   btnColor mx-auto " data-bs-toggle="modal" data-bs-target="#staticBackdrop"  >
                                    <h6 class=" mt-1 fw-semibold  " style="color: #fff;">COMMANDER </h6> </button></div>
                            <!-- Modal -->
                            <div class="modal fade " id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                                <div class=" modal-dialog  modal-lg w-50 h-100 widthm">
                                    <div class="modal-content">
                                        <div class=" headerColor ">
                                            <h1 class=" fs-5" id="staticBackdropLabel">
                                                <p class="text-white text-center fs-3 p-2"> Passer Votre Commande</p></h1>
                                            <div class="position-absolute top-0 end-0 me-2 mt-2"><button type="button" class="btn-close bg-white  p-2 sidebar" data-bs-dismiss="modal" aria-label="Close"></button></div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!---finModal-->

                        </div></div>
                </div> #}
                <div class="tour_details_right_sidebar_wrapper">
                    <div class="tour_detail_right_sidebar">
                        <div class="tour_details_right_boxed">
                            <div class="tour_details_right_box_heading">
                                <h3>Panier details</h3>
                            </div>
                            <div class="tour_booking_amount_area">

                                <ul>
                                    <li class="remove_coupon_tour">Discount <span>10%</span></li>
                                    <li>Tax <span>5%</span></li>
                                </ul>
                                <div class="total_subtotal_booking">
                                    <h6 class="remove_coupon_tour text-start">Subtotal <span>$38,000.00</span></h6>
                                </div>
                               {# <div class="coupon_add_area">
                                    <h6><span class="remove_coupon_tour">Remove</span> Coupon code (OFF 5000)
                                        <span>$5,000.00</span>
                                    </h6>
                                </div>#}
                                <div class="total_subtotal_booking">
                                    <h6 class="remove_coupon_tour">Total Amount <span>$33,000.00</span> </h6>
                                </div>
                                <a class=" btn my-2 btn_theme  w-100" href="{{ path('app_seller_Confirmation')}}"> Passez la Commander</a>
{#                                <button href="{{ path('app_seller_Confirmation')}}" class=" btn my-2 btn_theme  w-100"> Passez la Commander</button>#}
                            </div>
                        </div>
                    </div>
                </div>

            </div>

        </div>
    </div>
    {% else %}
    <div class=" mt-5">

        <div class="container mt-5 shadow p-3 mb-5 bg-body rounded col-11 ">
            <div class="d-flex justify-content-center"><img src="{{ asset('assets/images/cartVide.svg') }}" ></div>

            <p class="fw-bold text-center">Votre panier est vide!</p>
            <p class="text-center"> Parcourez nos catégories et découvrez nos meilleures offres!</p>
            <div class="d-flex justify-content-center"><button  class="   btn  mx-1 btnColor   "   >
                    <h6 class=" mt-1 text-white ">Commencer vos Achats</h6> </button></div>

        </div>
    </div>


    <div class="container-xl   bg-white   rounded-2    mb-2 mt-5 ">
        <div class="   ">
            <p class="text-danger   col-10  rounded-2  p-1  fs-4 fw-semibold">les Plus Recommandés</p>
        </div>
        <div class="row">
            <div class=" col-lg-3 col-md-4 my-1 col-sm-6 col-12 col-xl-2 " >
                <div class=" hover card shadow-sm  border border-0  ">
                    <div class="position-relative  ">
                        <a  href="">
                            <img  class="card-img-top rounded-0 p-2 " alt="..."> </a>
                        <div class=" ">  <a  href="">
                                <p class="container card-text text-start text-truncate fw-normal m-0"></p>
                                <p class="container text-danger  text-start fs-5 m-0"></p>
                                <p  class="text-decoration-line-through fs-6  text-start fw-normal  container m-0 mb-2 "> TND  <span class="badge ms-3  color-bg text-start ms-2" ></span></p>

                            </a>


                        </div>

                    </div>
                </div>
            </div>
        </div>
        <!-- </div> -->
    </div>
    <div class=" d-none  d-xl-block container bg-white shadow-sm  mb-5   rounded-4  ">
        <div class=" p-4"><p class="text-center">Voir les recommandations personnalisées</p>
            <div class="d-flex justify-content-center">
                <button type="button"  class="btn w-25 btnColor "><h6 class=" mt-1  " style="color: #fff;">Identifiez-vous</h6></button> </div>
            <p class="text-center mt-2">Nouveau client ? <a href=""  style="text-decoration: none;">Commencer ici.</a></p></div>

    </div>
{% endif %}
    </div>  </div>
{% endblock %}
