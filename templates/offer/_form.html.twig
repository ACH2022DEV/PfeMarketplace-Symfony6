<div class="container">
    <div class="row ">
        {{ form_start(form) }}
        {{ form_widget(form) }}


        <ul class="offerProductTypes" data-index="{{ form.offerProductTypes|length > 0 ? form.offerProductTypes|last.vars.maxItems + 1 : 0 }}"
            data-prototype="{{ form_widget(form.offerProductTypes.vars.prototype.maxItems)|e('html_attr') }}">
            {% for offerProdTypes in form.offerProductTypes %}
                <li>{{ form_row(offerProdTypes.maxItems) }}</li>
                <li>{{ form_row(offerProdTypes.price) }}</li>
                <li>{{ form_row(offerProdTypes.productType) }}</li>
            {% endfor %}
        </ul>
        <button type="button" class="add_item_link" data-collection-holder-class="offerProductTypes">Add offerProductType</button>
        <button class="btn">{{ button_label|default('Save') }}</button>
        {{ form_end(form) }}
        <script>
            document
                .querySelectorAll('.add_item_link')
                .forEach(btn => {
                    btn.addEventListener("click", addFormToCollection)
                });
            const addFormToCollection = (e) => {
                const collectionHolder = document.querySelector('.' + e.currentTarget.dataset.collectionHolderClass);

                const item = document.createElement('li');

                item.innerHTML = collectionHolder
                    .dataset
                    .prototype
                    .replace(
                        /__maxItems__/g,
                        collectionHolder.dataset.index
                    );

                collectionHolder.appendChild(item);

                collectionHolder.dataset.index++;
            };
        </script>
    </div></div>